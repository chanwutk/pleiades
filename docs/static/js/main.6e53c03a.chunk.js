(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{207:function(e,t,a){e.exports={previewWidth:"150"}},243:function(e,t,a){e.exports=a(649)},248:function(e,t,a){},649:function(e,t,a){"use strict";a.r(t);var n=a(3),c=a.n(n),r=a(76),l=a.n(r),i=(a(248),a(44)),o=a(695),s=a(696),u=a(697),m=a(699),d=a(241),p=a(218),f=a.n(p),v=a(190),E=a.n(v),b=a(123),g=a(220),h=a.n(g),w=a(233),O=a.n(w),j=function(e){var t=e.onClick,a=e.children;return c.a.createElement("div",{className:"fake-button",onClick:t},a)},k=a(693),C=a(698);h.a.setAppElement("#root");var N=Object(k.a)(function(e){return{textField:{marginTop:e.spacing(0),marginBottom:e.spacing(4),width:300}}}),S=function(e){var t=e.isOpen,a=e.onClose,n=e.contentLabel,r=e.value,l=e.setValue,i=e.alias,o=e.setAlias,s=e.errorMsg,u=e.extras,m=N();return c.a.createElement(h.a,{isOpen:t,contentLabel:n,className:"modal"},c.a.createElement("div",{className:"modal-toolbar"},c.a.createElement("div",{className:"modal-buttons"},c.a.createElement(j,{onClick:function(){return a(!1)}},c.a.createElement(b.X,null),"\xa0 Close"),c.a.createElement(j,{onClick:function(){return a(!0)}},c.a.createElement(b.Save,null),"\xa0 Save"),u),c.a.createElement("span",{className:"error-msg"},s||null)),c.a.createElement(C.a,{id:"standard-name",label:"Name",className:m.textField,value:i,onChange:function(e){return o(e.target.value)},margin:"normal"}),c.a.createElement("div",{className:"editor"},c.a.createElement(O.a,{language:"json",value:r,onChange:function(e){return l(e)},editorDidMount:function(e){return e.focus()},options:{automaticLayout:!0,cursorBlinking:"smooth",folding:!0,lineNumbersMinChars:4,minimap:{enabled:!1},scrollBeyondLastLine:!1,wordWrap:"on"}})))},y=function(e){return{tag:"failure",value:e}},M=a(211),x=[{data:{url:"https://vega.github.io/editor/data/cars.json"},mark:"point",encoding:{x:{field:"Horsepower",type:"quantitative"},y:{field:"Miles_per_Gallon",type:"quantitative"}}},{data:{url:"https://vega.github.io/editor/data/population.json"},transform:[{filter:"datum.year == 2000"}],mark:"bar",encoding:{y:{field:"age",type:"ordinal",scale:{rangeStep:17}},x:{aggregate:"sum",field:"people",type:"quantitative",axis:{title:"population"}}}}],L=function(e){var t=e.showModal,a=e.setShowModal,r=e.value,l=e.setValue,o=e.alias,s=e.setAlias,u=e.contentLabel,m=e.onSuccess,d=Object(n.useState)(""),p=Object(i.a)(d,2),f=p[0],v=p[1],b=x.map(function(e,t){return c.a.createElement(j,{key:t,onClick:function(){return l(E()(e))}},"Example ",t+1)});return c.a.createElement(S,{isOpen:t,contentLabel:u,onClose:function(e){if(!e)return v(""),void a(!1);var t=function(e){try{var t=JSON.parse(e);return"data"in t&&"url"in t.data?(M.a(t),{tag:"success",value:t}):y("data field must exist and must be url.")}catch(a){if(a instanceof SyntaxError)return y(a.message);if("Invalid spec"===a.message)return y(a.message);throw a}}(r);switch(t.tag){case"success":return v(""),m(o,t.value),void a(!1);case"failure":return void v(t.value)}},value:r,setValue:l,alias:o,setAlias:s,errorMsg:f,extras:b})},A=a(207),R=a(240),D=a.n(R),W=function(e){var t=e.id,a=e.children;return c.a.createElement(D.a,{effect:"solid",id:t},c.a.createElement("table",{className:"tooltip-table"},a.map(function(e){var t=Object(i.a)(e,2),a=t[0],n=t[1];return c.a.createElement("tr",null,c.a.createElement("td",null,c.a.createElement("strong",null,a),":"),c.a.createElement("td",null,n))})))},B=c.a.memo(d.a),F=function(e){var t=e.spec,a=e.active,r=e.onActivate,l=e.onModify,o=e.onDelete,s=Object(n.useState)(!1),u=Object(i.a)(s,2),m=u[0],d=u[1],p=Object(n.useState)(""),v=Object(i.a)(p,2),g=v[0],h=v[1],w=Object(n.useState)(""),O=Object(i.a)(w,2),k=O[0],C=O[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:f()({active:a,preview:!0}),onClick:r},c.a.createElement("div",{className:"preview-image","data-tip":!0,"data-for":t.id+""},c.a.createElement(B,{spec:t.spec,width:+A.previewWidth,height:+A.previewWidth})),c.a.createElement(W,{id:t.id+""},[["Data URL",t.spec.data.url],["Mark Type",t.spec.mark]]),c.a.createElement("div",{className:"preview-side"},c.a.createElement(j,{onClick:function(){h(E()(t.spec)),C(t.alias),d(!0)}},c.a.createElement(b.Edit,null)),c.a.createElement(j,{onClick:function(){o()}},c.a.createElement(b.Trash2,null)))),c.a.createElement("div",null,t.alias),c.a.createElement(L,{showModal:m,setShowModal:d,contentLabel:"Modify Spec",onSuccess:l,value:g,setValue:h,alias:k,setAlias:C}))},V=function(e){var t=e.specs,a=e.onModify,r=e.onDelete,l=Object(n.useState)(null),o=Object(i.a)(l,2),s=o[0],u=o[1];return c.a.createElement("div",{className:"nav-bar"},t.map(function(e){return c.a.createElement(F,{key:e.id,spec:e,active:e.id===s,onActivate:(t=e.id,function(){return u(s===t?null:t)}),onModify:a(e.id),onDelete:r(e.id)});var t}))},U=function(e){var t=e.onAdd,a=Object(n.useState)(!1),r=Object(i.a)(a,2),l=r[0],o=r[1],s=Object(n.useState)(""),u=Object(i.a)(s,2),m=u[0],d=u[1],p=Object(n.useState)(""),f=Object(i.a)(p,2),v=f[0],E=f[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"new-spec"},c.a.createElement(j,{onClick:function(){d(""),E(""),o(!0)}},c.a.createElement(b.Plus,{className:"preview-icon"}),"\xa0 New Spec")),c.a.createElement(L,{showModal:l,setShowModal:o,contentLabel:"New Spec",onSuccess:t,value:m,setValue:d,alias:v,setAlias:E}))},q=function(){return c.a.createElement("div",{className:"main-view"})},J=function(e){var t=e.onUndo,a=e.onRedo,r=Object(n.useState)(""),l=Object(i.a)(r,2);l[0],l[1];return c.a.createElement("div",{className:"mode-bar"},c.a.createElement("div",{className:"mode-group"},c.a.createElement(j,{onClick:function(){}},"Layer"),c.a.createElement(j,{onClick:function(){}},"Concat"),c.a.createElement(j,{onClick:function(){}},"Repeat"),c.a.createElement(j,{onClick:function(){}},"Facet")),c.a.createElement("div",{className:"undo-redo-group"},c.a.createElement(j,{onClick:t},c.a.createElement(b.RotateCcw,null),"\xa0 Undo"),c.a.createElement(j,{onClick:a},c.a.createElement(b.RotateCw,null),"\xa0 Redo")))},T=function(){var e=Object(n.useState)([{specs:[],specCount:0}]),t=Object(i.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)([]),d=Object(i.a)(l,2),p=d[0],f=d[1],v=function(e){r(o.a(e,a)),f([])};return c.a.createElement("div",{id:"main"},c.a.createElement("div",{className:"left-side"},c.a.createElement(U,{onAdd:function(e,t){var n=a[0],c=n.specs,r=n.specCount;v({specs:s.a({id:r,spec:t,alias:e},c),specCount:r+1})}}),c.a.createElement(V,{specs:a[0].specs,onModify:function(e){return function(t,n){v(u.a(m.a("specs"),function(a){return a.map(function(a){return a.id===e?{id:e,spec:n,alias:t}:a})},a[0]))}},onDelete:function(e){return function(){v(u.a(m.a("specs"),function(t){return t.filter(function(t){return t.id!==e})},a[0]))}}})),c.a.createElement("div",{className:"right-side"},c.a.createElement(J,{onUndo:function(){a.length>1&&(f(o.a(a[0],p)),r(a.slice(1)))},onRedo:function(){p.length>0&&(r(o.a(p[0],a)),f(p.slice(1)))}}),c.a.createElement(q,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[243,1,2]]]);
//# sourceMappingURL=main.6e53c03a.chunk.js.map