(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{277:function(e,t,a){e.exports=a(392)},282:function(e,t,a){},392:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a.n(n),o=a(69),l=a.n(o),c=(a(282),a(46)),i=a(459),s=a(460),u=a(461),m=a(463),d=a(243),p=a(269),f=a(200),g=a(204),b=a.n(g),E=a(265),v=a.n(E),h=a(264),w=a.n(h),y=a(254),j=a.n(y),O=a(258),k=a.n(O),C=a(257),S=a.n(C),x=a(446),N=a(462),M=a(452),A=a(453),B=a(465),T=a(466),D=a(454),R=Object(x.a)(function(e){return{textField:{marginTop:e.spacing(0),marginBottom:e.spacing(4),width:300},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},errorMessage:{fontStyle:"italic",color:"red"}}}),F=function(e){var t=e.isOpen,a=e.onClose,n=e.value,o=e.setValue,l=e.alias,c=e.setAlias,i=e.errorMsg,s=e.extras,u=R();return r.a.createElement(B.a,{open:t,onClose:a,"aria-labelledby":"form-dialog-title",maxWidth:"lg",fullWidth:!0},r.a.createElement(T.a,{disableTypography:!0},r.a.createElement(N.a,{id:"standard-name",label:"Name",className:u.textField,value:l,onChange:function(e){return c(e.target.value)},margin:"normal"}),r.a.createElement(M.a,{onClick:function(){return a(!0)}},r.a.createElement(S.a,null),"\xa0 Save"),s,r.a.createElement(A.a,{className:u.closeButton,onClick:function(){return a(!1)}},r.a.createElement(k.a,null))),r.a.createElement(D.a,null,r.a.createElement("div",{className:"editor"},r.a.createElement(j.a,{language:"json",value:n,height:400,onChange:function(e){return o(e)},editorDidMount:function(e){return e.focus()},options:{automaticLayout:!0,cursorBlinking:"smooth",folding:!0,lineNumbersMinChars:4,minimap:{enabled:!1},scrollBeyondLastLine:!1,wordWrap:"on"}})),r.a.createElement("span",{className:u.errorMessage},i||null)))},G=function(e){return{tag:"failure",value:e}},L=a(232),U=[{data:{url:"https://vega.github.io/editor/data/cars.json"},mark:"point",encoding:{x:{field:"Horsepower",type:"quantitative"},y:{field:"Miles_per_Gallon",type:"quantitative"}}},{data:{url:"https://vega.github.io/editor/data/population.json"},transform:[{filter:"datum.year == 2000"}],mark:"bar",encoding:{y:{field:"age",type:"ordinal",scale:{rangeStep:17}},x:{aggregate:"sum",field:"people",type:"quantitative",axis:{title:"population"}}}}],V=function(e){var t=e.showModal,a=e.setShowModal,o=e.value,l=e.setValue,i=e.alias,s=e.setAlias,u=e.onSuccess,m=Object(n.useState)(""),d=Object(c.a)(m,2),p=d[0],f=d[1],g=U.map(function(e,t){return r.a.createElement(M.a,{key:t,onClick:function(){return l(b()(e))}},"Example ",t+1)});return r.a.createElement(F,{isOpen:t,onClose:function(e){if(!e)return f(""),void a(!1);var t=function(e){try{var t=JSON.parse(e);return"data"in t&&"url"in t.data?(L.a(t),{tag:"success",value:t}):G("data field must exist and must be url.")}catch(a){if(a instanceof SyntaxError)return G(a.message);if("Invalid spec"===a.message)return G(a.message);throw a}}(o);switch(t.tag){case"success":return f(""),u(i,t.value),void a(!1);case"failure":return void f(t.value)}},value:o,setValue:l,alias:i,setAlias:s,errorMsg:p,extras:g})},W=a(467),q=Object(x.a)(function(e){return{keyColumn:{textAlign:"right"}}}),I=function(e){var t=e.table,a=e.children,n=q(),o=r.a.createElement("table",null,r.a.createElement("tbody",null,t.map(function(e){var t=Object(c.a)(e,2),a=t[0],o=t[1];return r.a.createElement("tr",{key:a},r.a.createElement("td",{className:n.keyColumn},r.a.createElement("strong",null,a),":"),r.a.createElement("td",null,o))})));return r.a.createElement(W.a,{placement:"top",title:o},a)},J=a(456),z=a(455),_=a(457),H=a(263),X=a.n(H),Y=r.a.memo(p.a,function(e,t){var a=e.spec,n=Object(d.a)(e,["spec"]),r=t.spec,o=Object(d.a)(t,["spec"]);return X()(n,o)&&f.a.isSameSpec(a,r)}),$=Object(x.a)(function(e){return{wrapper:{height:150,"&::after":{display:"block",position:"relative",marginTop:"-57%",width:150,backgroundImage:"linear-gradient(to bottom, rgba(255, 255, 255, 0), rgba(0, 0, 0, 0.75))",height:"75%",content:"''"}},image:{overflow:"hidden",height:150},preview:{position:"relative",userSelect:"none",border:1,borderColor:function(e){return e?"orange":"white"},borderStyle:"solid"},center:{position:"absolute",left:"50%",transform:"translate(-50%, 0)"},top:{position:"absolute",right:0,top:0,"& button":{marginRight:e.spacing(1),marginTop:e.spacing(1)}},bottom:{bottom:10,color:"white"}}}),K=function(e){var t=e.spec,a=e.onToggleActive,o=e.onModify,l=e.onDelete,i=e.active,s=Object(n.useState)(!1),u=Object(c.a)(s,2),m=u[0],d=u[1],p=Object(n.useState)(""),f=Object(c.a)(p,2),g=f[0],E=f[1],h=Object(n.useState)(""),y=Object(c.a)(h,2),j=y[0],O=y[1],k=$(i);return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{disableGutters:!0,className:k.preview,onClick:a},r.a.createElement(I,{table:[["Data URL",t.spec.data.url],["Mark Type",t.spec.mark]]},r.a.createElement("div",{className:k.wrapper},r.a.createElement("div",{className:k.image},r.a.createElement(Y,{spec:t.spec,width:150,height:150})))),r.a.createElement("div",{className:k.top},r.a.createElement(J.a,{size:"small",color:"primary",onClick:function(){E(b()(t.spec)),O(t.alias),d(!0)}},r.a.createElement(w.a,null)),r.a.createElement(J.a,{size:"small",color:"secondary",onClick:function(){l()}},r.a.createElement(v.a,null))),r.a.createElement("div",{className:k.center+" "+k.bottom},t.alias)),r.a.createElement(_.a,null),r.a.createElement(V,{showModal:m,setShowModal:d,onSuccess:o,value:g,setValue:E,alias:j,setAlias:O}))},P=a(451),Q=Object(x.a)(function(e){return{list:{overflowY:"auto",overflowX:"hidden",flexGrow:1,paddingTop:0,paddingBottom:0}}}),Z=function(e){var t=e.specs,a=e.onModify,o=e.onDelete,l=Object(n.useState)(null),i=Object(c.a)(l,2),s=i[0],u=i[1],m=Q();return r.a.createElement(P.a,{className:m.list},r.a.createElement(_.a,null),t.map(function(e){return r.a.createElement(K,{key:e.id,spec:e,active:e.id===s,onToggleActive:(t=e.id,function(){return u(s===t?null:t)}),onModify:a(e.id),onDelete:o(e.id)});var t}))},ee=a(266),te=a.n(ee),ae=Object(x.a)(function(e){return{button:{marginBottom:e.spacing(1)}}}),ne=function(e){var t=e.onAdd,a=Object(n.useState)(!1),o=Object(c.a)(a,2),l=o[0],i=o[1],s=Object(n.useState)(""),u=Object(c.a)(s,2),m=u[0],d=u[1],p=Object(n.useState)(""),f=Object(c.a)(p,2),g=f[0],b=f[1],E=ae();return r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{onClick:function(){d(""),b("Untitled"),i(!0)},className:E.button},r.a.createElement(te.a,null)," \xa0 New Spec"),r.a.createElement(V,{showModal:l,setShowModal:i,onSuccess:t,value:m,setValue:d,alias:g,setAlias:b}))},re=Object(x.a)(function(e){return{main:{backgroundColor:e.palette.grey[200],marginTop:e.spacing(1),flexGrow:1}}}),oe=function(){var e=re();return r.a.createElement("div",{className:e.main})},le=a(267),ce=a.n(le),ie=a(268),se=a.n(ie),ue=a(458),me=function(e){var t=e.onUndo,a=e.onRedo,o=Object(n.useState)(""),l=Object(c.a)(o,2);l[0],l[1];return r.a.createElement(ue.a,{container:!0,justify:"space-between"},r.a.createElement(ue.a,{item:!0},r.a.createElement(M.a,{onClick:function(){}},"Layer"),r.a.createElement(M.a,{onClick:function(){}},"Concat"),r.a.createElement(M.a,{onClick:function(){}},"Repeat"),r.a.createElement(M.a,{onClick:function(){}},"Facet")),r.a.createElement(ue.a,{item:!0},r.a.createElement(M.a,{onClick:t},r.a.createElement(ce.a,null)," \xa0 Undo"),r.a.createElement(M.a,{onClick:a},r.a.createElement(se.a,null)," \xa0 Redo")))},de=Object(x.a)(function(e){return{root:{height:600,display:"flex"},left:{height:"100%",display:"flex",flexDirection:"column",width:150,marginRight:e.spacing(1)},right:{flexGrow:1,display:"flex",flexDirection:"column"}}}),pe=function(){var e=Object(n.useState)([{specs:[],specCount:0}]),t=Object(c.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)([]),d=Object(c.a)(l,2),p=d[0],f=d[1],g=function(e){o(i.a(e,a)),f([])},b=de();return r.a.createElement("div",{className:b.root},r.a.createElement("div",{className:b.left},r.a.createElement(ne,{onAdd:function(e,t){var n=a[0],r=n.specs,o=n.specCount;g({specs:s.a({id:o,spec:t,alias:e},r),specCount:o+1})}}),r.a.createElement(Z,{specs:a[0].specs,onModify:function(e){return function(t,n){g(u.a(m.a("specs"),function(a){return a.map(function(a){return a.id===e?{id:e,spec:n,alias:t}:a})},a[0]))}},onDelete:function(e){return function(){g(u.a(m.a("specs"),function(t){return t.filter(function(t){return t.id!==e})},a[0]))}}})),r.a.createElement("div",{className:b.right},r.a.createElement(me,{onUndo:function(){a.length>1&&(f(i.a(a[0],p)),o(a.slice(1)))},onRedo:function(){p.length>0&&(o(i.a(p[0],a)),f(p.slice(1)))}}),r.a.createElement(oe,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(pe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[277,1,2]]]);
//# sourceMappingURL=main.e506925c.chunk.js.map