(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{179:function(e,t,a){e.exports={previewWidth:"150"}},203:function(e,t,a){e.exports=a(587)},208:function(e,t,a){},587:function(e,t,a){"use strict";a.r(t);var n=a(7),c=a.n(n),o=a(187),r=a.n(o),i=(a(208),a(52)),l=function(e){return{tag:"failure",value:e}},s=function(e){return e[e.length-1]},u=a(202),m=a(197),d=a.n(m),p=a(165),v=a.n(p),f=a(117),b=a(189),E=a.n(b),h=a(198),g=a.n(h),w=function(e){var t=e.onClick,a=e.children;return c.a.createElement("div",{className:"fake-button",onClick:t},a)};E.a.setAppElement("#root");var C=[{$schema:"https://vega.github.io/schema/vega-lite/v3.json",description:"A simple bar chart with embedded data.",data:{values:[{a:"A",b:28},{a:"B",b:55},{a:"C",b:43},{a:"D",b:91},{a:"E",b:81},{a:"F",b:53},{a:"G",b:19},{a:"H",b:87},{a:"I",b:52}]},mark:"bar",encoding:{x:{field:"a",type:"ordinal"},y:{field:"b",type:"quantitative"}}},{$schema:"https://vega.github.io/schema/vega-lite/v3.json",description:"A bar chart showing the US population distribution of age groups in 2000.",data:{url:"https://vega.github.io/editor/data/population.json"},transform:[{filter:"datum.year == 2000"}],mark:"bar",encoding:{y:{field:"age",type:"ordinal",scale:{rangeStep:17}},x:{aggregate:"sum",field:"people",type:"quantitative",axis:{title:"population"}}}}],S=function(e){var t=e.isOpen,a=e.onClose,n=e.contentLabel,o=e.value,r=e.setValue,i=e.errorMsg;return c.a.createElement(E.a,{isOpen:t,contentLabel:n,className:"modal"},c.a.createElement("div",{className:"modal-toolbar"},c.a.createElement("div",{className:"modal-buttons"},c.a.createElement(w,{onClick:function(){return a(!1)}},c.a.createElement(f.X,null),"\xa0 Close"),c.a.createElement(w,{onClick:function(){return a(!0)}},c.a.createElement(f.Save,null),"\xa0 Save"),C.map(function(e,t){return c.a.createElement(w,{key:t,onClick:function(){return r(v()(e))}},"Example ",t+1)})),c.a.createElement("span",{className:"error-msg"},i||null)),c.a.createElement("div",{className:"editor"},c.a.createElement(g.a,{language:"json",value:o,onChange:function(e){return r(e)},editorDidMount:function(e){e.focus()},options:{automaticLayout:!0,cursorBlinking:"smooth",folding:!0,lineNumbersMinChars:4,minimap:{enabled:!1},scrollBeyondLastLine:!1,wordWrap:"on"}})))},k=a(181),y=function(e){var t=e.showModal,a=e.setShowModal,o=e.value,r=e.setValue,s=e.contentLabel,u=e.onSuccess,m=Object(n.useState)(""),d=Object(i.a)(m,2),p=d[0],v=d[1];return c.a.createElement(S,{isOpen:t,contentLabel:s,onClose:function(e){if(!e)return v(""),void a(!1);var t=function(e){try{var t=JSON.parse(e);return"data"in t?(k.a(t),{tag:"success",value:t}):l("data field must exist.")}catch(a){if(a instanceof SyntaxError)return l(a.message);if("Invalid spec"===a.message)return l(a.message);throw a}}(o);switch(t.tag){case"success":return v(""),u(t.value),void a(!1);case"failure":return void v(t.value)}},value:o,setValue:r,errorMsg:p})},N=a(179),j=c.a.memo(u.a),O=function(e){var t=e.spec,a=e.active,o=e.onActivate,r=e.onModify,l=e.onDelete,s=Object(n.useState)(!1),u=Object(i.a)(s,2),m=u[0],p=u[1],b=Object(n.useState)(""),E=Object(i.a)(b,2),h=E[0],g=E[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:d()({active:a,preview:!0}),onClick:o},c.a.createElement("div",{className:"preview-image"},c.a.createElement(j,{spec:t.spec,width:+N.previewWidth,height:+N.previewWidth})),c.a.createElement("div",{className:"preview-side"},c.a.createElement(w,{onClick:function(){g(v()(t.spec)),p(!0)}},c.a.createElement(f.Edit,null)),c.a.createElement(w,{onClick:function(){l()}},c.a.createElement(f.Trash2,null)))),c.a.createElement(y,{showModal:m,setShowModal:p,contentLabel:"Modify Spec",onSuccess:r,value:h,setValue:g}))},M=function(e){var t=e.specs,a=e.onModify,o=e.onDelete,r=Object(n.useState)(null),l=Object(i.a)(r,2),s=l[0],u=l[1];return c.a.createElement("div",{className:"nav-bar"},t.map(function(e){return c.a.createElement(O,{key:e.id,spec:e,active:e.id===s,onActivate:(t=e.id,function(){u(s===t?null:t)}),onModify:a(e.id),onDelete:o(e.id)});var t}))},L=function(e){var t=e.onAdd,a=Object(n.useState)(!1),o=Object(i.a)(a,2),r=o[0],l=o[1],s=Object(n.useState)(""),u=Object(i.a)(s,2),m=u[0],d=u[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"new-spec"},c.a.createElement(w,{onClick:function(){d(""),l(!0)}},c.a.createElement(f.Plus,{className:"preview-icon"}),"\xa0 New Spec")),c.a.createElement(y,{showModal:r,setShowModal:l,contentLabel:"New Spec",onSuccess:t,value:m,setValue:d}))},x=function(){return c.a.createElement("div",{className:"main-view"})},A=function(e){var t=e.onUndo;return c.a.createElement("div",{className:"mode-bar"},c.a.createElement(w,{onClick:t},c.a.createElement(f.RotateCcw,null),"\xa0 Undo"))},D=function(){var e=Object(n.useState)([{specs:[],specCount:0}]),t=Object(i.a)(e,2),a=t[0],o=t[1];return c.a.createElement("div",{id:"main"},c.a.createElement("div",{className:"left-side"},c.a.createElement(L,{onAdd:function(e){var t=s(a),n=t.specs,c=t.specCount;o(a.concat([{specs:n.concat([{id:c,spec:e}]),specCount:c+1}]))}}),c.a.createElement(M,{specs:s(a).specs,onModify:function(e){return function(t){var n=s(a),c=n.specs,r=n.specCount;o(a.concat([{specs:c.map(function(a){return a.id===e?{id:e,spec:t}:a}),specCount:r}]))}},onDelete:function(e){return function(){var t=s(a),n=t.specs,c=t.specCount;o(a.concat([{specs:n.filter(function(t){return t.id!==e}),specCount:c}]))}}})),c.a.createElement("div",{className:"right-side"},c.a.createElement(A,{onUndo:function(){a.length>1&&o(a.slice(0,a.length-1))}}),c.a.createElement(x,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[203,1,2]]]);
//# sourceMappingURL=main.de51b832.chunk.js.map